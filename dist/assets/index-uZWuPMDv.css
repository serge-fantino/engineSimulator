:root{--bg-primary: #1a1a2e;--bg-secondary: #16213e;--bg-panel: #0f1529;--accent: #e94560;--accent-dim: #a83248;--accent-secondary: #0f3460;--text-primary: #eee;--text-secondary: #889;--text-dim: #556;--gauge-bg: #111827;--border: #2a2a4a;--green: #22c55e;--yellow: #eab308}*{margin:0;padding:0;box-sizing:border-box}body{background:var(--bg-primary);color:var(--text-primary);font-family:Segoe UI,system-ui,-apple-system,sans-serif;overflow:hidden;height:100vh;user-select:none}#app{display:grid;grid-template-columns:1fr 200px;grid-template-rows:auto 1fr;height:100vh;gap:8px;padding:8px}#profile-selector-container{grid-column:1 / -1;padding:4px 0;overflow-y:auto;max-height:180px}.vehicle-gallery{display:flex;flex-direction:column;gap:6px}.gallery-carousel{display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;align-items:stretch;padding:2px 0;-webkit-overflow-scrolling:touch}.gallery-carousel.compact{gap:4px}.gallery-carousel .vehicle-card{flex-shrink:0}.vehicle-card{display:flex;flex-direction:column;background:var(--bg-secondary);border:1px solid var(--border);border-radius:6px;overflow:hidden;cursor:pointer;transition:all .2s;width:120px}.vehicle-card:hover{border-color:var(--accent-dim);transform:translateY(-1px)}.vehicle-card.active{border-color:var(--accent);box-shadow:0 0 8px #e945604d}.vehicle-card img{width:100%;height:70px;object-fit:cover;background:var(--gauge-bg);cursor:pointer}.vehicle-card-info{padding:4px 6px}.vehicle-card-name{font-size:10px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vehicle-card-stats{font-size:8px;color:var(--text-dim);margin-top:1px}.gallery-carousel.compact .vehicle-card{width:60px}.gallery-carousel.compact .vehicle-card img{height:40px}.gallery-carousel.compact .vehicle-card-info{display:none}.vehicle-card-name-compact{font-size:8px;color:var(--text-dim);text-align:center;padding:1px 2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.vehicle-detail-panel{background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;padding:8px;max-width:100%;max-height:180px;display:flex;flex-direction:column;overflow:hidden}.detail-content{display:flex;gap:12px;align-items:stretch;min-height:0;flex:1;overflow:hidden}.detail-photo{flex-shrink:0;cursor:pointer;border-radius:6px;overflow:hidden}.detail-photo:hover img{opacity:.9}.detail-photo img{width:140px;height:90px;object-fit:cover;border-radius:6px;background:var(--gauge-bg);display:block;transition:opacity .15s}.detail-right{flex:1;min-width:0;min-height:0;display:flex;flex-direction:column;gap:4px;overflow:hidden}.detail-body{flex:1;min-height:0;overflow-y:auto}.detail-toggle{display:inline-flex;border:1px solid var(--border);border-radius:4px;overflow:hidden}.detail-toggle-btn{background:var(--bg-panel);border:none;color:var(--text-secondary);padding:3px 8px;font-size:10px;cursor:pointer;transition:all .15s}.detail-toggle-btn.active{background:var(--accent-secondary);color:var(--text-primary)}.detail-toggle-btn:not(.active):hover{color:var(--text-primary)}.detail-header{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:4px}.detail-title{font-size:13px;font-weight:700;color:var(--text-primary);margin:0;flex-shrink:0}.detail-specs{min-width:0}.detail-grid{display:grid;grid-template-columns:auto 1fr auto 1fr auto 1fr auto 1fr auto 1fr;gap:2px 8px;font-size:10px;align-items:baseline;flex:1;min-height:0}.detail-grid dt{color:var(--text-dim);text-transform:uppercase;font-weight:500;font-size:9px}.detail-grid dd{margin:0;font-weight:600;color:var(--text-primary);text-align:left}.detail-right.mode-specs .detail-specs{display:block}.detail-right.mode-specs .detail-chart-wrap,.detail-right.mode-chart .detail-specs{display:none}.detail-right.mode-chart .detail-chart-wrap{display:block}.detail-chart-wrap{width:100%;min-height:0}.detail-chart-name{font-size:10px;color:var(--text-dim);display:none}.detail-right.mode-chart .detail-chart-name{display:inline}.detail-chart-canvas{display:block;width:100%;max-width:500px;height:88px;border-radius:6px;cursor:pointer}#dashboard-container{grid-column:1;grid-row:2;display:flex;flex-direction:column;align-items:center;gap:8px;min-height:0;overflow-y:auto}#tacho-area{display:flex;align-items:center;justify-content:center;gap:12px;min-height:180px;flex-shrink:0;width:100%;max-width:600px}#tachometer-canvas{flex-shrink:1;max-width:600px}.speed-bar-container{display:flex;flex-direction:column;align-items:center;gap:4px;width:36px;flex-shrink:0}.speed-bar-max{font-size:9px;color:var(--text-dim);font-variant-numeric:tabular-nums}.speed-bar-track{width:20px;height:200px;background:var(--gauge-bg);border:1px solid var(--border);border-radius:10px;position:relative;overflow:hidden}.speed-bar-fill{position:absolute;bottom:0;width:100%;background:linear-gradient(to top,var(--green),var(--yellow),var(--accent));border-radius:0 0 9px 9px;transition:height .08s ease-out}.speed-bar-value{font-size:16px;font-weight:700;font-variant-numeric:tabular-nums;color:var(--text-primary)}.speed-bar-unit{font-size:8px;color:var(--text-dim);text-transform:uppercase}#perf-graph-canvas{max-width:600px;width:100%;flex-shrink:0}#gauges{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:6px;width:100%;max-width:600px}.gauge-card{background:var(--bg-panel);border:1px solid var(--border);border-radius:8px;padding:8px 10px;text-align:center}.gauge-label{font-size:10px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.05em;margin-bottom:2px}.gauge-value{font-size:20px;font-weight:700;font-variant-numeric:tabular-nums;color:var(--text-primary)}.gauge-unit{font-size:10px;color:var(--text-secondary);margin-left:2px}#controls-container{grid-column:2;grid-row:2;background:var(--bg-panel);border:1px solid var(--border);border-radius:8px;padding:10px;display:flex;flex-direction:column;gap:10px;overflow-y:auto}.control-section{display:flex;flex-direction:column;gap:4px}.control-label{font-size:10px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.05em}.power-section{align-items:center}.power-btn{width:52px;height:52px;border-radius:50%;border:2px solid var(--border);background:var(--bg-secondary);color:var(--text-dim);font-size:22px;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center}.power-btn:hover{border-color:var(--text-secondary);color:var(--text-secondary)}.power-btn.on{border-color:var(--green);color:var(--green);box-shadow:0 0 15px #22c55e4d}.power-icon{font-size:22px;line-height:1}.pedal-container{display:flex;gap:12px;justify-content:center;align-items:flex-end;min-height:100px}.pedal-wrapper{display:flex;flex-direction:column;align-items:center;gap:2px}.pedal-touch{display:flex;flex-direction:column;align-items:center;gap:2px;min-width:48px;min-height:48px;padding:6px;cursor:pointer;-webkit-tap-highlight-color:transparent;touch-action:manipulation;user-select:none;border-radius:8px;transition:background .1s}.pedal-touch:hover{background:#ffffff0f}.pedal-touch.pressed{background:#ffffff1f}.pedal-wrapper[data-pedal=brake] .pedal-touch.pressed{--pedal-glow: rgba(233, 69, 96, .5)}.pedal-wrapper[data-pedal=throttle] .pedal-touch.pressed{--pedal-glow: rgba(34, 197, 94, .5)}.pedal-icon{display:inline-flex;align-items:center;justify-content:center}.pedal-icon .pedal-svg{display:block}.pedal-touch.pressed .pedal-svg{filter:drop-shadow(0 0 6px var(--pedal-glow, transparent))}.pedal-slider{-webkit-appearance:none;appearance:none;writing-mode:vertical-lr;direction:rtl;width:36px;height:80px;background:var(--gauge-bg);border-radius:4px;outline:none}.pedal-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:32px;height:12px;background:var(--accent-secondary);border-radius:3px;cursor:pointer}.pedal-slider.throttle::-webkit-slider-thumb{background:var(--green)}.pedal-slider.brake::-webkit-slider-thumb{background:var(--accent)}.pedal-value{font-size:11px;font-variant-numeric:tabular-nums;color:var(--text-secondary)}.pedal-name{font-size:9px;color:var(--text-dim);text-transform:uppercase}.gear-display{display:flex;align-items:center;justify-content:center;gap:8px}.gear-btn{background:var(--bg-secondary);border:1px solid var(--border);border-radius:4px;color:var(--text-secondary);width:30px;height:30px;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s}.gear-btn:hover{border-color:var(--accent);color:var(--text-primary)}.gear-btn:active{background:var(--accent-secondary)}.gear-number{font-size:24px;font-weight:700;min-width:32px;text-align:center;color:var(--green)}.gear-number.shifting{color:var(--yellow)}.mode-toggle{display:flex;border:1px solid var(--border);border-radius:4px;overflow:hidden}.mode-toggle button{flex:1;background:var(--bg-secondary);border:none;color:var(--text-secondary);padding:5px 6px;font-size:11px;cursor:pointer;transition:all .15s}.mode-toggle button.active{background:var(--accent-secondary);color:var(--text-primary)}.volume-slider{-webkit-appearance:none;appearance:none;width:100%;height:6px;background:var(--gauge-bg);border-radius:3px;outline:none}.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:var(--text-secondary);border-radius:50%;cursor:pointer}.tone-sliders{display:flex;flex-direction:column;gap:4px}.tone-label{display:flex;justify-content:space-between;font-size:10px;color:var(--text-secondary)}.tone-slider{-webkit-appearance:none;appearance:none;width:100%;height:6px;background:var(--gauge-bg);border-radius:3px;outline:none}.tone-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;background:var(--text-secondary);border-radius:50%;cursor:pointer}.horn-btn{width:100%;padding:8px 10px;font-size:12px;background:var(--bg-secondary);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);cursor:pointer;transition:all .15s}.horn-btn:hover{border-color:var(--green);color:var(--green)}.horn-btn:active{background:var(--accent-secondary)}.audio-debug{margin-top:6px;padding:6px 8px;font-size:9px;line-height:1.35;color:var(--text-dim);background:var(--gauge-bg);border-radius:4px;border:1px solid var(--border);word-break:break-word}.audio-debug.audio-ok{color:var(--green);border-color:#22c55e4d}.key-hints-compact{display:flex;flex-direction:row;gap:8px;flex-wrap:wrap;font-size:9px;color:var(--text-dim)}.key-hints-compact span{white-space:nowrap}.key-hints-compact kbd{background:var(--bg-secondary);border:1px solid var(--border);border-radius:2px;padding:0 3px;font-family:inherit;font-size:9px}.ev-mode-toggle button#mode-ev.active{background:#1e40af;color:#93c5fd}.ev-status{font-size:9px;color:var(--text-dim);min-height:14px;display:flex;align-items:center;gap:4px}.ev-status-dot{width:6px;height:6px;border-radius:50%;display:inline-block;flex-shrink:0}.ev-status-dot.active{background:var(--green)}.ev-status-dot.requesting{background:var(--yellow);animation:ev-pulse 1s infinite}.ev-status-dot.error{background:var(--accent)}@keyframes ev-pulse{0%,to{opacity:1}50%{opacity:.3}}.ev-active .pedal-container,.ev-active .key-hints-compact{opacity:.3;pointer-events:none}
